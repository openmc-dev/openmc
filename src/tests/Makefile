source = test_binary_search.f90
objects = $(source:.f90=.o)
tests = $(basename $(source))

objects += ../search.o ../constants.o ../error.o ../global.o

#===============================================================================
# Compiler Options
#===============================================================================

F90 = ifort
F90FLAGS = -I..
LDFLAGS = 

#===============================================================================
# Targets
#===============================================================================

all: $(tests)
$(tests): $(objects)
	$(F90) $(LDFLAGS) $(objects) -o $@
clean:
	@rm -f *.o *.mod $(tests)
neat:
	@rm -f *.o *.mod

#===============================================================================
# Rules
#===============================================================================

.SUFFIXES: .f90 .o
.PHONY: all clean neat

%.o: %.f90
	$(F90) $(F90FLAGS) -c $<
