set title "TPMS with U10-Zr fuel, HT9 as clad, and sodium as coolant"


%----------
% Geometry
%----------

%box containing STL geometry
%           x    y    z    half-radius
surf 1 cube cube_dimensions cube_dimensions cube_dimensions cube_dimensions

cell 1 0 fill 1 -1 % fill box with mesh-based universe
cell 2 0 outside 1 % outside of the box

% background universe filled with water
surf sINF inf
cell 3 2 water -sINF

% create STL geometry
solid 2 1 2  % type, universe, background universe
10 4 5 4 3 2 % search, mesh split, depth and sizes
1 1e-7 % ray test, merge radius
body fuel fuel UO2 % solid name, cell name, material name
file fuel "../geometries/fuelname.stl" scaling_factor 0 0 0 %body name, file, scaling factor, origin

body clad clad zr4 % solid name, cell name, material name
file clad "../geometries/cladname.stl" scaling_factor 0 0 0 %body name, file, scaling factor, origin

%----------
% materials
%----------
mat UO2  -10.045
92234.02c   6.15169E+18
92235.02c   6.89220E+20
92236.02c   3.16265E+18
92238.02c   2.17103E+22
 6012.02c   9.13357E+18
 7014.02c   1.04072E+19
 8016.02c   4.48178E+22

 
% --- "Zircaloy-4" [PNNL-15870, Rev. 1]

mat zr4 -6.56000E+00

 8016.01c  -1.19276E-03
 8017.01c  -4.82878E-07
 8018.01c  -2.75825E-06
24050.01c  -4.16117E-05
24052.01c  -8.34483E-04
24053.01c  -9.64457E-05
24054.01c  -2.44600E-05
26054.01c  -1.12572E-04
26056.01c  -1.83252E-03
26057.01c  -4.30778E-05
26058.01c  -5.83334E-06
40090.01c  -4.97862E-01
40091.01c  -1.09780E-01
40092.01c  -1.69646E-01
40094.01c  -1.75665E-01
40096.01c  -2.89038E-02
50112.01c  -1.27604E-04
50114.01c  -8.83732E-05
50115.01c  -4.59255E-05
50116.01c  -1.98105E-03
50117.01c  -1.05543E-03
50118.01c  -3.35688E-03
50119.01c  -1.20069E-03
50120.01c  -4.59220E-03
50122.01c  -6.63497E-04
50124.01c  -8.43355E-04

mat U-10Zr -12. % approximate density at hot condition
92234.02c  7.86963E-05
92235.02c  1.54762E-01
92238.02c  6.20822E-01
40090.02c  1.15520E-01
40091.02c  2.51458E-02
40092.02c  3.84331E-02
40094.02c  3.89651E-02
40096.02c  6.27328E-03

mat ht9 -7.672
26054.02c  4.89520E-02
26056.02c  7.67751E-01
26057.02c  1.77399E-02
26058.02c  2.34300E-03
28058.02c  3.26679E-03
28060.02c  1.25816E-03
28061.02c  5.47024E-05
28062.02c  1.74184E-04
28064.02c  4.46257E-05
24050.02c  5.58965E-03
24052.02c  1.07668E-01
24053.02c  1.22073E-02
24054.02c  3.04540E-03
25055.02c  5.72960E-03
42092.02c  8.69626E-04
42094.02c  5.47631E-04
42095.02c  9.48030E-04
42096.02c  9.97705E-04
42097.02c  5.74563E-04
42098.02c  1.45975E-03
42100.02c  5.87730E-04
 6012.02c  9.19543E-03
15031.02c  2.85262E-03
23051.02c  3.03521E-03
74180.02c  1.62208E-06
74182.02c  3.58209E-04
74183.02c  1.93433E-04
74184.02c  4.14171E-04
74186.02c  3.84297E-04
16032.02c  6.90894E-04


mat helium -0.02652 % 900 K, 50 Bars
2004.01c 1.


mat sodium -0.8502 tmp 698 % 698 degres K ~ 425 degres C
11023.01c 1.


mat water  -0.76973 moder lwtr 1001
1001.01c   0.66667
8016.01c   0.33333

therm lwtr h-h2o.54t

% unresolved range probability table treatment

%set ures 1

% --- periodic boundary condition:

set bc 3


%------
% detectors
%------
%fast flux
%ene 1 1 0.1 200
%det fast_flux
%de 1 du 1

% spectrum
ene 1000gr 3 1000 1e-11 2e1 
det spectrum de 1000gr 
%-----
% plots
%-----

%x-y plot
%plot TYPE XPIX YPIX [ POS MIN1 MAX1 MIN2 MAX2 ]
plot 33 1000 1000  0. 0. plot_dimensions 0. plot_dimensions
%mesh ORI XPIX YPIX [ SYM MIN1 MAX1 MIN2 MAX2 MIN3 MAX3 ]
mesh 3  1000 1000  0  0. plot_dimensions 0. plot_dimensions 0. plot_dimensions
%xz plot
plot 23 1000 1000  0. 0. plot_dimensions 0. plot_dimensions
mesh 2  1000 1000  0  0. plot_dimensions 0. plot_dimensions 0. plot_dimensions
%yz plot
plot 13 1000 1000  0. 0. plot_dimensions 0. plot_dimensions
mesh 1  1000 1000  0  0. plot_dimensions 0. plot_dimensions 0. plot_dimensions 

%-----
% library
%-----
%local computer
%set acelib "/Users/martnp/codes/mcnp6/lib/MCNP_DATA/datapath_endfb8.0/xsdir_serpent"
%set declib "/Users/martnp/codes/serpent2/xsdata/endfb80/sss_endfb80.dec"
%set nfylib "/Users/martnp/codes/serpent2/xsdata/endfb80/sss_endfb80.nfy"
%hpc
set acelib "/hpc-common/data/serpent/xsdata/s2v0_endfb80/sss_endf80_s_ab.xsdata"
%set declib "/hpc-common/data/serpent/xsdata/s2v0_endfb80/sss_endf80.dec"
%set nfylib "/hpc-common/data/serpent/xsdata/s2v0_endfb80/sss_endf80.nfy"


%-----
%simulation options
%-----


set pop 100000 110 10


set gcu -1
